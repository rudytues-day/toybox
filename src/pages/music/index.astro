---
import MusicLayout from "../../layouts/MusicLayout.astro";
import { getCollection, render } from "astro:content";

import Playlist from "../../components/Playlist.astro";

const playlists = await getCollection("playlists");
---

<MusicLayout>
  
                                 
    { playlists.map(async (playlist) => {
      const renderedPlaylist = await render(playlist);
      console.log("script inside playlist map")
      return (
        <details>
          <Playlist
              title={playlist.data.title}
              date={playlist.data.date}>
              <renderedPlaylist.Content/>
          </Playlist>
        </details>
        );
      
      })
    }
    
</MusicLayout>